<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">


<!-- Etiqueta que ejecutará antes de que cargue el index -->
<f:metadata>
    <f:event type="preRenderView" listener="#{loginUI.verificarSesion}"></f:event>
</f:metadata>

<h:head>
    <link href="resources/style.css" rel="stylesheet"/>
    <script src="resources/funct.js"> console.log("JS embebido SÍ se ejecuta"); </script>
    <title>Facelet Title</title>
</h:head>

<h:body>
    <!-- Encabezado con botones -->
    <div class="headerprin">
        <!-- Link para regresar -->
        <h:form>
            <h:commandLink styleClass="link-btn" actionListener="#{loginUI.logout()}">
                <i class="pi pi-sign-out"></i>
            </h:commandLink>
        </h:form>

        <span>Cotizaciones El Letrero Signshop</span>

        <!-- Botón de menú -->
        <p:commandButton class="menu" icon="pi pi-bars"
                         onclick="toggleMenu(); return false;" />
    </div>

    <!-- Menú superior oculto -->
    <div id="menuPanel" class="menu-panel">
        <h:link outcome="consulta_materiales.xhtml" styleClass="menu-option">
            <i class="pi pi-box"></i> Consulta Materiales
        </h:link>

        <h:link outcome="consulta_usuarios.xhtml" styleClass="menu-option">
            <i class="pi pi-users"></i> Consulta Usuarios
        </h:link>

        <h:link outcome="consulta_cotizaciones.xhtml" styleClass="menu-option">
            <i class="pi pi-file"></i> Consulta Cotizaciones
        </h:link>

        //boton temporal para pronbar respaldo
        <h:form style="display:inline;">
            <p:commandButton value="PROBAR RESPALDO"
                             actionListener="#{loginUI.probarRespaldoManual}"
                             styleClass="ui-button-warning"
                             icon="pi pi-database"
                             style="margin: 10px; width: 200px; height: 100px; font-size: 1.2em;"/>
        </h:form>
    </div>

    <!-- Links de navegación -->
    <div class="nav-links">
        <h:link class="link-btn" outcome="consulta_materiales.xhtml">
            <i class="pi pi-box"></i> Consulta Materiales
        </h:link>

        <h:link class="link-btn" outcome="consulta_usuarios.xhtml">
            <i class="pi pi-users"></i> Consulta Usuarios
        </h:link>

        <h:link class="link-btn" outcome="consulta_cotizaciones.xhtml">
            <i class="pi pi-file"></i> Consulta Cotizaciones
        </h:link>
    </div>
</h:body>

</html>

