<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">


<!-- Etiqueta que ejecutará antes de que cargue el index -->
<f:metadata>
    <f:event type="preRenderView" listener="#{loginUI.verificarSesion}"></f:event>
</f:metadata>

<h:head>
    <link href="resources/style.css" rel="stylesheet"/>
    <script src="resources/funct.js"> console.log("JS embebido SÍ se ejecuta"); </script>
    <title>Facelet Title</title>
</h:head>

<h:body>
    <!-- Encabezado con botones -->
    <div class="headerprin">
        <!-- Link para regresar -->
        <h:form>
            <h:commandLink styleClass="link-btn" actionListener="#{loginUI.logout()}">
                <i class="pi pi-sign-out"></i>
            </h:commandLink>
        </h:form>

        <span>Cotizaciones El Letrero Signshop</span>

        <!-- Botón de menú -->
        <p:commandButton class="menu" icon="pi pi-bars"
                         onclick="toggleMenu(); return false;" />
    </div>

    <!-- Menú superior oculto -->
    <div id="menuPanel" class="menu-panel">
        <h:link outcome="consulta_materiales.xhtml" styleClass="menu-option">
            <i class="pi pi-home"></i> Índice
        </h:link>

        <h:link outcome="consulta_pedidos_productor.xhtml" styleClass="menu-option">
            <i class="pi pi-hammer"></i> Consultar pedidos
        </h:link>


        //boton temporal para pronbar respaldo
        <h:form style="display:inline;">
            <p:commandButton value="PROBAR RESPALDO"
                             actionListener="#{loginUI.probarRespaldoManual}"
                             styleClass="ui-button-warning"
                             icon="pi pi-database"
                             style="margin: 10px; width: 200px; height: 100px; font-size: 1.2em;"/>
        </h:form>
    </div>

    <!-- Links de navegación -->
    <div class="card-container">
        <!-- Tarjeta Control Pedidos -->
        <h:link outcome="consulta_pedidos_productor.xhtml" styleClass="card">
            <div class="card-content">
                <div class="card-title">Control de<br/>Pedidos</div>
                <i class="pi pi-hammer card-icon"></i>
                <div class="card-btn">Entrar</div>
            </div>
        </h:link>
    </div>
</h:body>

</html>

